\documentclass[type=master,foot=true,colorhead=true]{rwuthesis} % twoside, BCOR=1cm,
\usepackage[british]{babel}
% https://tex.stackexchange.com/questions/282678/why-does-inputenc-abandon-so-quickly-under-utf8-based-engines
%\usepackage[utf8]{inputenc} % not to use with xelatex

% ============= Dokuinfo =============

\usepackage[pdfusetitle]{hyperref}
\hypersetup{ %https://en.wikibooks.org/wiki/LaTeX/Hyperlinks#Customization
    colorlinks = true, 
    breaklinks, %line breaking in a long hyperlink
    urlcolor=black, %  \url colour
    linkcolor =black, %  \ref colour
    citecolor=rwuvioletlight% \cite colour
}

% ============= Packages =============
\usepackage{color, url}
\usepackage{float} %big H
\usepackage{pdfpages}
\usepackage{wrapfig}
\usepackage{tabularx, multirow, booktabs}
\usepackage{parcolumns}


% List of abbreviations
\usepackage[nohyperlinks, printonlyused, withpage, smaller]{acronym}

%%graphics and figures defined image path
\usepackage{graphicx}
\graphicspath{ {images/} }
\usepackage{caption} %https://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions
\usepackage{subcaption} % multiple figures with subcaptions

% Bibliography
\usepackage{csquotes}
\usepackage{comment}
\usepackage[ 
% https://www.overleaf.com/learn/latex/Bibliography_management_with_biblatex#Reference_guide
% https://www.overleaf.com/learn/latex/Natbib_citation_styles
% https://www.bibtex.com/e/entry-types/
    backend=biber, % biber backend
    natbib=true, % customising citations
    sorting=nty, % sort name, title, year
    style=numeric % https://de.overleaf.com/learn/latex/Biblatex_bibliography_styles
]{biblatex}

% change text format of title field in @inproceedings and @article
\DeclareFieldFormat[inproceedings,article]{title}{\textit{\MakeSentenceCase*{#1}}}

% Redefine the bibliography driver for @misc entries for the wanted order of "repo_author/user. year. repo_name (Hash xx) [Software]. Github. URL"
\DeclareBibliographyDriver{misc}{%
  \usebibmacro{author/editor+others/translator+others}%
  \setunit{\printdelim{nametitledelim}}\newblock
  \printfield{year}%
  \iffieldundef{year}{%
    % Add "(n.d.). " if no year available
    \printtext{\addspace\bibopenparen{n.d.}\bibcloseparen}
    \setunit{\adddot\space}%
  }{\setunit{\adddot\space}}%
  \printfield{title}%
  \setunit{\addspace}%
  \iffieldundef{version}{%
    \setunit{\space}
  }{
    \addspace
    \printtext{(\printfield{version})
   }
  \setunit{\addspace}}%
  \printfield{note}%
  \setunit{\adddot\space}%
  \usebibmacro{url+urldate}
  \finentry
}
\addbibresource{source.bib}

% adjust listings
\usepackage{listings}

\definecolor{CodeBg}{RGB}{232,232,232}
\definecolor{CodeGreen}{rgb}{0,0.6,0}

\lstset{
  language=bash,
  basicstyle=\footnotesize,
  backgroundcolor=\color{CodeBg},
  showstringspaces=false,
  commentstyle=\color{CodeGreen},
  keywordstyle=\color{blue},
  captionpos=b,
  escapeinside=``
}


% math packages
% \usepackage{amsfonts}
\usepackage{amsmath}
% \usepackage{amssymb}
\usepackage{MnSymbol} % Math Symbol Font

% ============= additional settings or packages =============
\usepackage{lipsum} % random text generator with \lipsum

%% date format in text
\usepackage[nodayofweek]{datetime}
\newdateformat{mydate}{\twodigit{\THEDAY}{ }\shortmonthname[\THEMONTH] \THEYEAR}

%% table settings
 % The triangle down symbols are not vertically alligned with the text. So raise the symbol manually
\newcommand{\triadown}{\raisebox{0.25\height}{$\filledmedtriangledown$}}
% just for convenience abbreviate that command too
\newcommand{\triaup}{$\filledmedtriangleup$}
% Custom column type which additionally centers a p column 
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}

%% line pitch
\usepackage[onehalfspacing]{setspace} %singlespacing. onehalf-, double-

% custom command for strings with a lot of  escape characters
\newcommand{\spcstring}[1]{\lstinline|#1|}

% Increase number of captions available
%https://tex.stackexchange.com/questions/186981/is-there-a-subsubsubsection-command

% Caption of figures/tables continuous
\usepackage{chngcntr}
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}

% The tocdepth counter decides to which depth down the entries appear in the ToC
% https://tex.stackexchange.com/questions/291307/how-to-hide-show-section-levels-in-the-table-of-contents
% \setcounter{secnumdepth}{4}
% \setcounter{tocdepth}{4}
% \lstset{numberbychapter=false}

% Document information
\newcommand{\batitle}{Analysis of the reduction of ITLB cache pressure through code collocation based on the Linux kernel}

\title{\batitle}
\author{Anton Gres}
\authormail{anton.gres@rwu.de}
\fordegree{Master of Engineering}
\firstreviewer{Prof. Dr. rer. nat. Markus Pfeil}
\firstreviewermail{markus.pfeil@rwu.de}
\secondreviewer{Dipl.-Ing., Dr.techn. Wilfried Wessner}
\secondreviewermail{wilfried.wessner@linutronix.de}
\degreecourse{Electrical Engineering and Embedded\\Systems}
\faculty{Electrical Engineering and Computer Science}
\date{May 31st, 2023}

% ==========================
\begin{document}
\maketitle
\input{0_statutory_decleration.tex}

\singlespacing
\pagenumbering{arabic}
\setcounter{page}{3} % change site numbering to start at 3

\tableofcontents
\newpage

%\addtocontents{lof}{\linespread{1.25}\selectfont} % change spaces of listoffigures
%\cleardoublepage
% add custom hyperref and table of contents entries for figure list
\phantomsection
\addcontentsline{toc}{chapter}{\listfigurename}
\addcontentsline{toc}{chapter}{\listtablename}
% put figure and table information on same page
\listoffigures
\begingroup
\let\clearpage\relax
\listoftables
\endgroup

\newpage
\lstlistoflistings
\addcontentsline{toc}{chapter}{List of Listings}

\newpage
\onehalfspacing

%\input{1_Einleitung.tex}
\input{2_Zielsetzung.tex}
\input{3_0_Grundlagen.tex}
\input{4_0_Discussion.tex}
\input{5_0_Implementation.tex}
\input{5_1_Results.tex}
\input{6_0_Improvements.tex}
\input{7_0_Summary.tex}
\input{8_0_Appendix.tex}

\sloppy % set sloppy tolerances
\printbibliography[heading=bibintoc]
%\printbibliography[keyword=pic, title={Pictures only}]
\end{document}
